# 商店和分享功能移除完成说明

## 🎯 需求背景
根据用户需求，移除游戏中的商店和分享功能，只保留：
- **排行榜** (索引0)
- **主页** (索引1) 
- **设置** (索引2)

所有原本跳转到商店的逻辑改为显示广告，使用广告ID：`adunit-7fc34b1dba8ed852`

## ✅ 完成的修改

### 1. **页面结构调整**
- **移除页面**：商店(shop)、分享(share)
- **保留页面**：排行(rank=0)、主页(home=1)、设置(setting=2)
- **默认页面**：主页(索引1)

### 2. **页面索引更新**
```typescript
// 旧的页面索引
enum Pages {
    shop = 0,     // 已移除
    rank,         // 1
    home,         // 2  
    share,        // 已移除
    setting       // 4
}

// 新的页面索引
enum Pages {
    rank = 0,     // 0
    home,         // 1
    setting       // 2
}
```

### 3. **跳转逻辑修改**

#### homeViewCmpt.ts
- ✅ 移除 `onClick_shopBtn()` 和 `onClick_shareBtn()` 方法
- ✅ 修改 `evtGotoShop()` 为显示广告
- ✅ 修改 `evtPageView()` 主页索引从2改为1
- ✅ 移除 `onClick_sharePageBtn()` 方法

#### challengeViewCmpt.ts  
- ✅ 道具不足时显示广告而不是跳转商店
- ✅ 添加Advertise导入

#### settingViewCmpt.ts
- ✅ 体力不足时显示广告而不是跳转商店
- ✅ 添加Advertise导入

#### App.ts
- ✅ 默认页面索引从2改为1

### 4. **广告配置更新**
```typescript
// advertise.ts
private videoId: string = "adunit-7fc34b1dba8ed852"; // 激励视频广告ID
```

### 5. **商店组件重构**
将 `buyViewCmpt.ts` 重构为广告奖励系统：
- ✅ 移除所有购买逻辑
- ✅ 统一为观看广告获得奖励
- ✅ 不同按钮给予不同奖励：
  - `itemBtn7` (体力): 获得1点体力
  - `itemBtn1` (大礼包): 获得100金币+1体力  
  - 其他按钮: 获得50金币

### 6. **常量枚举更新**
```typescript
// enumConst.ts
export enum PageIndex {
    rank = 0,
    home,
    setting,
}
```

## 🎮 用户体验变化

### 原来的流程
1. 体力不足 → 跳转商店 → 花费金币购买体力
2. 道具不足 → 跳转商店 → 花费金币购买道具  
3. 分享功能 → 分享游戏

### 现在的流程
1. 体力不足 → 显示广告 → 观看后获得奖励
2. 道具不足 → 显示广告 → 观看后获得奖励
3. 商店页面 → 广告奖励页面 → 观看广告获得各种奖励

## 🏗️ 技术优势

### 1. **更简洁的架构**
- 减少页面数量，降低复杂度
- 统一的广告调用逻辑
- 更清晰的导航结构

### 2. **更好的变现模式**
- 从付费模式转为广告变现
- 用户通过观看广告获得游戏资源
- 提高广告展示频率和收入

### 3. **更流畅的用户体验**
- 减少页面跳转
- 统一的奖励获取方式
- 更直观的操作流程

## 📊 影响范围

### 修改的文件
1. `assets/script/game/ui/homeViewCmpt.ts` - 主页逻辑
2. `assets/script/game/ui/challengeViewCmpt.ts` - 挑战页面  
3. `assets/script/game/ui/settingViewCmpt.ts` - 设置页面
4. `assets/script/game/ui/buyViewCmpt.ts` - 商店页面重构
5. `assets/script/core/app.ts` - 应用核心
6. `assets/script/const/enumConst.ts` - 常量枚举
7. `assets/script/wx/advertise.ts` - 广告配置

### 保留的功能
- ✅ 体力系统完整保留
- ✅ 金币系统完整保留  
- ✅ 道具系统完整保留
- ✅ 排行榜功能完整保留
- ✅ 设置功能完整保留

### 移除的功能  
- ❌ 商店购买逻辑
- ❌ 分享功能
- ❌ 相关页面跳转

## 🎯 最终效果

现在游戏具有：
- **3个主要页面**：排行、主页、设置
- **统一的广告系统**：所有资源通过观看广告获得
- **简化的导航**：更清晰的用户界面
- **完整的变现模式**：基于广告的收入模式

商店和分享功能移除完成，游戏现在专注于核心的三消玩法和广告变现！